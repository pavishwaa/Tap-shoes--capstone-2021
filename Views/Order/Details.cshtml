@model TapShoesCanada.Models.CustomCart
@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int No = 1;
    decimal Total = 0;

}

<h1>Details</h1>

<div class="col-lg-12">
    <form>
        <div class="table-hover">
            <table class="table table-borderless">
                <tr>
                    <th>SrNO.</th>
                    <th>Shoe @Html.DisplayNameFor(item => item.Carts[0].Shoe.Model)</th>

                    <th>@Html.DisplayNameFor(item => item.Carts[0].Qty)</th>

                    <th>@Html.DisplayNameFor(item => item.Carts[0].Price)</th>
                    <th>@Html.DisplayNameFor(item => item.Carts[0].TotalPrice)</th>
                </tr>
                @if (Model.Carts != null)
                {
                    foreach (var cartItem in Model.Carts)
                    {
                        <tr>
                            <td>@No</td>
                            <td>@cartItem.Shoe.Model</td>
                            <td>@cartItem.Qty</td>
                            <td>@cartItem.Price</td>
                            <td>@cartItem.TotalPrice</td>
                        </tr>
                        Total += cartItem.TotalPrice;
                        No++;
                    }
                }
                @if (Model.CustomCarts == null && Model.Carts == null)
                {
                    <tr>
                        <td colspan="5" style="text-align: center">---No Item in List----</td>
                    </tr>
                }
                else
                {
                    <tr>
                        <td colspan="5" style="text-align: center">---Custom Shoes----</td>
                    </tr>

                }
                @if (Model.CustomCarts != null)
                {
                    foreach (var cartItem in Model.CustomCarts)
                    {
                        <tr>
                            <td>@No</td>
                            <td>@cartItem.Shoe.Model</td>
                            <td>@cartItem.Qty</td>
                            <td>@cartItem.Price</td>
                            <td>@cartItem.TotalPrice</td>
                        </tr>
                        Total += cartItem.TotalPrice;
                        No++;
                    }
                }

                <tr>
                    <th colspan="3">Total</th>

                    <th>@Total</th>
                    <th>$</th>
                </tr>
                @if (Model.Carts != null || Model.CustomCarts != null)
                {
                    <tr>
                        <th colspan="4"></th>
                        <th><a asp-action="Index">Back to list</a></th>
                    </tr>
                }
            </table>
        </div>
    </form>
</div>
